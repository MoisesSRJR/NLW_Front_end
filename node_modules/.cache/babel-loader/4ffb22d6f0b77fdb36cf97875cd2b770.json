{"ast":null,"code":"import { useCallback as $bnPw9$useCallback, useState as $bnPw9$useState, useRef as $bnPw9$useRef, useEffect as $bnPw9$useEffect } from \"react\";\nimport { useCallbackRef as $bnPw9$useCallbackRef } from \"@radix-ui/react-use-callback-ref\";\n\nfunction $71cd76cc60e0454e$export$6f32135080cb4c3(_ref) {\n  let {\n    prop: prop,\n    defaultProp: defaultProp,\n    onChange = () => {}\n  } = _ref;\n  const [uncontrolledProp, setUncontrolledProp] = $71cd76cc60e0454e$var$useUncontrolledState({\n    defaultProp: defaultProp,\n    onChange: onChange\n  });\n  const isControlled = prop !== undefined;\n  const value1 = isControlled ? prop : uncontrolledProp;\n  const handleChange = $bnPw9$useCallbackRef(onChange);\n  const setValue = $bnPw9$useCallback(nextValue => {\n    if (isControlled) {\n      const setter = nextValue;\n      const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n      if (value !== prop) handleChange(value);\n    } else setUncontrolledProp(nextValue);\n  }, [isControlled, prop, setUncontrolledProp, handleChange]);\n  return [value1, setValue];\n}\n\nfunction $71cd76cc60e0454e$var$useUncontrolledState(_ref2) {\n  let {\n    defaultProp: defaultProp,\n    onChange: onChange\n  } = _ref2;\n  const uncontrolledState = $bnPw9$useState(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = $bnPw9$useRef(value);\n  const handleChange = $bnPw9$useCallbackRef(onChange);\n  $bnPw9$useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n  return uncontrolledState;\n}\n\nexport { $71cd76cc60e0454e$export$6f32135080cb4c3 as useControllableState };","map":{"version":3,"sources":["/Users/juniorsampaio/Desktop/ProjetosPessoais/Nlw /front-end/node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/index.ts","/Users/juniorsampaio/Desktop/ProjetosPessoais/Nlw /front-end/node_modules/@radix-ui/react-use-controllable-state/dist/packages/react/use-controllable-state/src/useControllableState.tsx"],"names":["onChange","useUncontrolledState","isControlled","prop","value","handleChange","useCallbackRef","setValue","nextValue","setter","setUncontrolledProp","uncontrolledState","React","prevValueRef"],"mappings":";;;ACWA,SAAA,wCAAA,OAIkC;AAAA,MAJD;ADXjC,IAAA,IAAA,ECWiC,IAAA;ADXjC,IAAA,WAAA,ECWiC,WAAA;AAG/BA,IAAAA,QAAQ,GAAG,MAAM,CAHnB;AAAiC,GAIC;AAChC,QAAM,CAAA,gBAAA,EAAA,mBAAA,IAA0CC,0CAAoB,CAAC;ADhBvE,IAAA,WAAA,ECgBuE,WAAA;ADhBvE,IAAA,QAAA,ECgBsFD;AAAf,GAAD,CAApE;AACA,QAAME,YAAY,GAAGC,IAAI,KAAzB,SAAA;AACA,QAAMC,MAAK,GAAGF,YAAY,GAAA,IAAA,GAA1B,gBAAA;AACA,QAAMG,YAAY,GAAGC,qBAAc,CAAnC,QAAmC,CAAnC;AAEA,QAAMC,QAA6D,GAAG,kBAAA,CACpE,SAACC,IAAc;AACb,QAAA,YAAA,EAAkB;AAChB,YAAMC,MAAM,GAAZ,SAAA;AACA,YAAML,KAAK,GAAG,OAAA,SAAA,KAAA,UAAA,GAAkCK,MAAM,CAAxC,IAAwC,CAAxC,GAAd,SAAA;AACA,UAAIL,KAAK,KAAT,IAAA,EAAoBC,YAAY,CAAhC,KAAgC,CAAZA;AAHtB,KAAA,MAKEK,mBAAmB,CAAnBA,SAAmB,CAAnBA;AAPgE,GAAA,EAUpE,CAAA,YAAA,EAAA,IAAA,EAAA,mBAAA,EAAA,YAAA,CAVoE,CAAtE;AAaA,SAAO,CAAA,MAAA,EAAA,QAAA,CAAP;AACD;;AAED,SAAA,0CAAA,QAGgD;AAAA,MAHf;ADrCjC,IAAA,WAAA,ECqCiC,WAAA;ADrCjC,IAAA,QAAA,ECqCA;AAAiC,GAGe;AAC9C,QAAMC,iBAAiB,GAAGC,eAAAA,CAA1B,WAA0BA,CAA1B;AACA,QAAM,CAAA,KAAA,IAAN,iBAAA;AACA,QAAMC,YAAY,GAAGD,aAAAA,CAArB,KAAqBA,CAArB;AACA,QAAMP,YAAY,GAAGC,qBAAc,CAAnC,QAAmC,CAAnC;AAEAM,EAAAA,gBAAAA,CAAgB,MAAM;AACpB,QAAIC,YAAY,CAAZA,OAAAA,KAAJ,KAAA,EAAoC;AAClCR,MAAAA,YAAY,CAAZA,KAAY,CAAZA;AACAQ,MAAAA,YAAY,CAAZA,OAAAA,GAAAA,KAAAA;AACD;AAJHD,GAAAA,EAKG,CAAA,KAAA,EAAA,YAAA,EAAA,YAAA,CALHA,CAAAA;AAOA,SAAA,iBAAA;AACD","sourcesContent":["export { useControllableState } from './useControllableState';\n","import * as React from 'react';\nimport { useCallbackRef } from '@radix-ui/react-use-callback-ref';\n\ntype UseControllableStateParams<T> = {\n  prop?: T | undefined;\n  defaultProp?: T | undefined;\n  onChange?: (state: T) => void;\n};\n\ntype SetStateFn<T> = (prevState?: T) => T;\n\nfunction useControllableState<T>({\n  prop,\n  defaultProp,\n  onChange = () => {},\n}: UseControllableStateParams<T>) {\n  const [uncontrolledProp, setUncontrolledProp] = useUncontrolledState({ defaultProp, onChange });\n  const isControlled = prop !== undefined;\n  const value = isControlled ? prop : uncontrolledProp;\n  const handleChange = useCallbackRef(onChange);\n\n  const setValue: React.Dispatch<React.SetStateAction<T | undefined>> = React.useCallback(\n    (nextValue) => {\n      if (isControlled) {\n        const setter = nextValue as SetStateFn<T>;\n        const value = typeof nextValue === 'function' ? setter(prop) : nextValue;\n        if (value !== prop) handleChange(value as T);\n      } else {\n        setUncontrolledProp(nextValue);\n      }\n    },\n    [isControlled, prop, setUncontrolledProp, handleChange]\n  );\n\n  return [value, setValue] as const;\n}\n\nfunction useUncontrolledState<T>({\n  defaultProp,\n  onChange,\n}: Omit<UseControllableStateParams<T>, 'prop'>) {\n  const uncontrolledState = React.useState<T | undefined>(defaultProp);\n  const [value] = uncontrolledState;\n  const prevValueRef = React.useRef(value);\n  const handleChange = useCallbackRef(onChange);\n\n  React.useEffect(() => {\n    if (prevValueRef.current !== value) {\n      handleChange(value as T);\n      prevValueRef.current = value;\n    }\n  }, [value, prevValueRef, handleChange]);\n\n  return uncontrolledState;\n}\n\nexport { useControllableState };\n"]},"metadata":{},"sourceType":"module"}